{"version":3,"file":"static/js/341.cfb4e52f.chunk.js","mappings":"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","sources":["components/layout/common/ItemNotFound.tsx","components/views/subastas/components/DetalleSubasta/DetailSubasta.tsx","components/views/subastas/components/DetalleSubasta/DataTablePujas.tsx","components/views/subastas/components/DetalleSubasta/DoughnutPujas.tsx","components/views/subastas/components/DetalleSubasta/index.tsx","components/views/subastas/DetalleSubasta.tsx","components/views/usuarios/layout/ModalUsuarioPerfil.tsx"],"sourcesContent":["import Tile from './Tile';\r\n\r\nconst ItemNotFound = ({ mensaje }: { mensaje: string }) => (\r\n\t<Tile>\r\n\t\t<h4 className=\"text-center\">{mensaje}</h4>\r\n\t</Tile>\r\n);\r\n\r\nexport default ItemNotFound;\r\n","import * as React from 'react';\r\nimport Tile from '../../../../layout/common/Tile';\r\nimport { PF, formatter, handleError } from '../../../../utils';\r\nimport { SubastaType } from '../../types';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment-timezone';\r\nimport { useLoader } from '../../../../../context/loaderpage/LoaderPageState';\r\nimport { useModal } from '../../../../../context/modal/ModalState';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { FaPen } from 'react-icons/fa';\r\nimport FormEditarSubasta from '../forms/FormEditarSubasta';\r\n\r\nconst StyledPaqueteBid = styled.div<{ background: string }>`\r\n\tbackground: ${props => props.background};\r\n\twidth: 100px;\r\n\theight: 100px;\r\n\tborder-radius: 10px;\r\n\tmargin: 10px auto;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcolor: #fff;\r\n\tflex-direction: column;\r\n`;\r\n\r\ninterface IDetailSubastaProps {\r\n\tsubasta: SubastaType;\r\n\tsetSubasta(value: SubastaType): void;\r\n\thanPujado: boolean;\r\n}\r\n\r\nconst DetailSubasta: React.FC<IDetailSubastaProps> = props => {\r\n\tconst { subasta } = props;\r\n\tconst { setLoader } = useLoader();\r\n\tconst { setModal } = useModal();\r\n\r\n\tasync function editarSubasta() {\r\n\t\ttry {\r\n\t\t\tsetLoader(true, 'Cargando subasta...');\r\n\t\t\tconst [productos, paqueteBids, paqueteActual] = await Promise.all([\r\n\t\t\t\tclienteAxios('productos/selectProductosIdName'),\r\n\t\t\t\tclienteAxios('paquete-bids'),\r\n\t\t\t\tclienteAxios(`/subastas/${subasta.idsubasta}`),\r\n\t\t\t]);\r\n\r\n\t\t\tconst setSubasta = (subasta: SubastaType) => {\r\n\t\t\t\tprops.setSubasta({ ...props.subasta, ...subasta });\r\n\t\t\t};\r\n\r\n\t\t\tsetModal({\r\n\t\t\t\ttitulo: 'Editar Subasta',\r\n\t\t\t\tbgHeader: 'secondary',\r\n\t\t\t\tsize: 'xl',\r\n\t\t\t\tcontent: (\r\n\t\t\t\t\t<FormEditarSubasta\r\n\t\t\t\t\t\tsubasta={paqueteActual.data}\r\n\t\t\t\t\t\tsetSubasta={setSubasta}\r\n\t\t\t\t\t\tproductos={productos.data}\r\n\t\t\t\t\t\tpaqueteBids={paqueteBids.data}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\thandleError(e);\r\n\t\t} finally {\r\n\t\t\tsetLoader(false);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Tile className=\"text-center\">\r\n\t\t\t{subasta.producto ? (\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={PF + subasta.fotoSubasta}\r\n\t\t\t\t\tclassName={'user-img rounded-circle'}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledPaqueteBid background={subasta.paqueteBid.background}>\r\n\t\t\t\t\t<span>{subasta.paqueteBid.cantidadBids} Bids</span>\r\n\t\t\t\t\t{subasta.paqueteBid.bonus ? (\r\n\t\t\t\t\t\t<small>{subasta.paqueteBid.bonus} BONUS</small>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</StyledPaqueteBid>\r\n\t\t\t)}\r\n\r\n\t\t\t<ContainerDetails hanPujado={props.hanPujado}>\r\n\t\t\t\t<h4>{subasta.titulo}</h4>\r\n\r\n\t\t\t\t<DetailSubastaContent\r\n\t\t\t\t\ttitulo=\"ID Subasta\"\r\n\t\t\t\t\ttext={subasta.idsubasta}\r\n\t\t\t\t/>\r\n\t\t\t\t<DetailSubastaContent\r\n\t\t\t\t\ttitulo=\"Costo Puja\"\r\n\t\t\t\t\ttext={subasta.costopuja}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<DetailSubastaContent\r\n\t\t\t\t\ttitulo=\"Precio minimo\"\r\n\t\t\t\t\ttext={`${formatter\r\n\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t.format(subasta.preciominimo)\r\n\t\t\t\t\t\t.replace('$', '')} USD`}\r\n\t\t\t\t/>\r\n\t\t\t\t<DetailSubastaContent\r\n\t\t\t\t\ttitulo=\"Precio Subasta\"\r\n\t\t\t\t\ttext={`${formatter\r\n\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t.format(\r\n\t\t\t\t\t\t\tsubasta.preciosubasta\r\n\t\t\t\t\t\t\t\t? subasta.preciosubasta\r\n\t\t\t\t\t\t\t\t: 0.01\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.replace('$', '')} USD`}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<DetailSubastaContent\r\n\t\t\t\t\ttitulo=\"Fecha creación\"\r\n\t\t\t\t\ttext={moment(subasta.date_created).format('DD/MM/YYYY')}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<DetailSubastaContent\r\n\t\t\t\t\ttitulo=\"Fecha inicio\"\r\n\t\t\t\t\ttext={moment(subasta.fechaInicio).format(\r\n\t\t\t\t\t\t'DD/MM/YYYY H:m:s'\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<DetailSubastaContent\r\n\t\t\t\t\ttitulo=\"Fecha finalización\"\r\n\t\t\t\t\ttext={moment(subasta.fechaFinalizacion).format(\r\n\t\t\t\t\t\t'DD/MM/YYYY H:m:s'\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<button className=\"btn btn-primary mt-2\" onClick={editarSubasta}>\r\n\t\t\t\t\tEditar Subasta <FaPen />\r\n\t\t\t\t</button>\r\n\t\t\t</ContainerDetails>\r\n\t\t</Tile>\r\n\t);\r\n};\r\n\r\nexport default DetailSubasta;\r\n\r\ntype DetailSubastaType = {\r\n\ttitulo: React.ReactNode;\r\n\ttext: string | number | Date;\r\n};\r\n\r\nconst DetailSubastaContent: React.FC<DetailSubastaType> = props => (\r\n\t<h6>\r\n\t\t<>\r\n\t\t\t<b>{props.titulo}:</b> {props.text}\r\n\t\t</>\r\n\t</h6>\r\n);\r\n\r\nconst ContainerDetails = styled.div<{ hanPujado: boolean }>`\r\n\tbackground-color: ${props => (props.hanPujado ? '#fdca20' : '#ffff')};\r\n\tpadding: 20px 0px;\r\n\tborder-radius: 10px;\r\n\ttransition: 0.3s ease;\r\n`;\r\n","import * as React from 'react';\r\nimport { FaEye } from 'react-icons/fa';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { useLoader } from '../../../../../context/loaderpage/LoaderPageState';\r\nimport { useModal } from '../../../../../context/modal/ModalState';\r\nimport DataTable from '../../../../layout/common/tables/datatable';\r\nimport Dropdown, { ButtonDropdown } from '../../../../layout/common/tables/Dropdown';\r\nimport { formatter, handleError } from '../../../../utils';\r\nimport ModalUsuarioPerfil from '../../../usuarios/layout/ModalUsuarioPerfil';\r\nimport { UserType } from '../../../usuarios/types';\r\nimport { PujaTableType } from '../../types';\r\n\r\ninterface IDataTablePujaProps {\r\n\tisLoading: boolean;\r\n\tpujas: PujaTableType[];\r\n}\r\n\r\nconst DataTablePuja: React.FunctionComponent<IDataTablePujaProps> = props => {\r\n\tconst { setLoader } = useLoader();\r\n\tconst { setModal } = useModal();\r\n\tasync function viewUser(idpersona: number) {\r\n\t\ttry {\r\n\t\t\tsetLoader(true, 'Cargando usuario...');\r\n\t\t\tconst url = `usuarios/${idpersona}`;\r\n\t\t\tconst request = await clienteAxios(url);\r\n\t\t\tconst user = request.data as UserType;\r\n\r\n\t\t\tsetModal({\r\n\t\t\t\tbgHeader: 'secondary',\r\n\t\t\t\tcontent: <ModalUsuarioPerfil persona={user} />,\r\n\t\t\t\tsize: 'md',\r\n\t\t\t\ttitulo: 'Ver Usuario',\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\thandleError(e);\r\n\t\t} finally {\r\n\t\t\tsetLoader(false);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mapeoPujas() {\r\n\t\treturn props.pujas.map(p => {\r\n\t\t\tconsole.log(p);\r\n\t\t\tconst formula = (p.costopuja / 100) * p.cantidadBids;\r\n\t\t\tconst price = formatter.format(formula ? formula : 0);\r\n\r\n\t\t\tp.price = price + ' USD';\r\n\r\n\t\t\tp.modalidadFormated = p.modalidad === 'M' ? 'Manual' : 'Automático';\r\n\r\n\t\t\tp.nameFormated =\r\n\t\t\t\tp.user.nombres + ' ' + (p.user.apellidos ? p.user.apellidos : '');\r\n\r\n\t\t\tp.options = (\r\n\t\t\t\t<Dropdown>\r\n\t\t\t\t\t<ButtonDropdown\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => viewUser(p.userid)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FaEye /> Ver Usuario\r\n\t\t\t\t\t</ButtonDropdown>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t);\r\n\t\t\treturn p;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<DataTable\r\n\t\t\ttitulo={<h3>Todas las pujas de esta Subasta</h3>}\r\n\t\t\theading={[\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'ID Puja',\r\n\t\t\t\t\tdataKey: 'idpuja',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Usuario',\r\n\t\t\t\t\tdataKey: 'nameFormated',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Cantidad Bids',\r\n\t\t\t\t\tdataKey: 'cantidadBids',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Costo Puja',\r\n\t\t\t\t\tdataKey: 'costopuja',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Modalidad',\r\n\t\t\t\t\tdataKey: 'modalidadFormated',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Precio',\r\n\t\t\t\t\tdataKey: 'price',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t},\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tname: 'Acciones',\r\n\t\t\t\t\tdataKey: 'options',\r\n\t\t\t\t\tcenter: true,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\tdata={mapeoPujas()}\r\n\t\t\tloading={props.isLoading}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default DataTablePuja;\r\n","import * as React from 'react';\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, ChartData } from 'chart.js';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport Tile from '../../../../layout/common/Tile';\r\nimport { PujaType } from '../../types';\r\nimport { getRandomColor } from '../../../../utils';\r\nimport { FaChartArea, FaChartPie } from 'react-icons/fa';\r\n\r\ninterface IDoughnutPujasProps {\r\n\tpujas: PujaType[];\r\n}\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nconst DoughnutPujas: React.FC<IDoughnutPujasProps> = props => {\r\n\tconst { pujas } = props;\r\n\r\n\tif (!pujas.length) return null;\r\n\tconst pujasAutomaticas = pujas.filter(p => p.modalidad === 'A');\r\n\tconst pujasManuales = pujas.filter(p => p.modalidad === 'M');\r\n\r\n\tconst dataDoughnut = ((): ChartData<'doughnut'> => ({\r\n\t\tlabels: ['Pujas Automáticas', 'Pujas Manuales'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tdata: [pujasAutomaticas.length, pujasManuales.length],\r\n\t\t\t\tbackgroundColor: ['#1f439a', '#dc3545'],\r\n\t\t\t\tborderWidth: 0,\r\n\t\t\t},\r\n\t\t],\r\n\t}))();\r\n\r\n\treturn (\r\n\t\t<Tile className=\"d-flex justify-content-center\">\r\n\t\t\t<h4>\r\n\t\t\t\tEstadistica de Pujas Manuales y Automáticas <FaChartPie />\r\n\t\t\t</h4>\r\n\t\t\t<span>\r\n\t\t\t\t<Doughnut\r\n\t\t\t\t\tdata={dataDoughnut}\r\n\t\t\t\t\twidth={300}\r\n\t\t\t\t\theight={300}\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\tmaintainAspectRatio: false,\r\n\t\t\t\t\t\tresponsive: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</span>\r\n\t\t</Tile>\r\n\t);\r\n};\r\n\r\nexport default DoughnutPujas;\r\n","import * as React from 'react';\r\nimport { PujaTableType, PujaType, SubastaType } from '../../types';\r\nimport DetailSubasta from './DetailSubasta';\r\nimport DataTablePuja from './DataTablePujas';\r\nimport DoughnutPujas from './DoughnutPujas';\r\nimport { useSocket } from '../../../../../context/socket/SocketContext';\r\n\r\ninterface IDetalleSubastaContentProps {\r\n\tpujas: PujaTableType[];\r\n\tsubasta: SubastaType;\r\n\tisLoading: boolean;\r\n\tsetSubasta(value: SubastaType): void;\r\n\tsetPujas(pujas: PujaType[]): void;\r\n}\r\n\r\ntype ReqPujaType = { puja: PujaType; preciosubasta: number };\r\n\r\nconst DetalleSubastaContent: React.FunctionComponent<IDetalleSubastaContentProps> = props => {\r\n\tconst { subasta, isLoading } = props;\r\n\tconst [hanPujado, setHanPujado] = React.useState(false);\r\n\tconst { Socket } = useSocket();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tSocket.on(`subasta-${subasta.idsubasta}-puja`, (body: ReqPujaType) => {\r\n\t\t\tprops.setSubasta({\r\n\t\t\t\t...subasta,\r\n\t\t\t\tpreciosubasta: body.preciosubasta,\r\n\t\t\t});\r\n\t\t\tprops.setPujas([body.puja, ...props.pujas]);\r\n\t\t\tsetHanPujado(true);\r\n\t\t\tsetTimeout(() => setHanPujado(false), 750);\r\n\t\t});\r\n\t\t// eslint-disable-next-line\r\n\t}, [subasta]);\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className=\"form-row\">\r\n\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t<DetailSubasta\r\n\t\t\t\t\t\tsubasta={subasta}\r\n\t\t\t\t\t\tsetSubasta={props.setSubasta}\r\n\t\t\t\t\t\thanPujado={hanPujado}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t<DoughnutPujas pujas={props.pujas} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<DataTablePuja isLoading={isLoading} pujas={props.pujas} />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default DetalleSubastaContent;\r\n","import * as React from 'react';\r\nimport PageComponent from '../../layout/app/Content/PageComponent';\r\nimport { GiReceiveMoney } from 'react-icons/gi';\r\nimport { useParams } from 'react-router-dom';\r\nimport { PujaTableType, SubastaType } from './types';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { toast } from 'react-toastify';\r\nimport DetalleSubastaContent from './components/DetalleSubasta';\r\nimport PagePlaceholder from '../../layout/common/placeholders/PagePlaceholder';\r\nimport ItemNotFound from '../../layout/common/ItemNotFound';\r\n\r\ninterface IDetalleSubastaProps {}\r\n\r\nconst DetalleSubasta: React.FC<IDetalleSubastaProps> = () => {\r\n\tconst { idsubasta } = useParams();\r\n\r\n\tconst [subasta, setSubasta] = React.useState<SubastaType>();\r\n\tconst [pujas, setPujas] = React.useState<PujaTableType[]>([]);\r\n\tconst [loading, setLoading] = React.useState(true);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tasync function fetchData() {\r\n\t\t\tconst idToast = toast.loading('Cargando subasta...');\r\n\t\t\ttry {\r\n\t\t\t\tconst urlSubasta = `subastas/${idsubasta}`;\r\n\t\t\t\tconst urlPujas = `puja?subastaid=${idsubasta}`;\r\n\t\t\t\tconst [reqSubasta, reqPujas] = await Promise.all([\r\n\t\t\t\t\tclienteAxios(urlSubasta),\r\n\t\t\t\t\tclienteAxios(urlPujas),\r\n\t\t\t\t]);\r\n\t\t\t\tsetSubasta(reqSubasta.data);\r\n\t\t\t\tsetPujas(reqPujas.data);\r\n\t\t\t\ttoast.update(idToast, {\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\trender: 'Subasta cargada correctamente',\r\n\t\t\t\t\tautoClose: 3000,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\ttoast.update(idToast, {\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\trender: 'Subasta no encontrada, o no cargada correctamente.',\r\n\t\t\t\t\tautoClose: 3000,\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t});\r\n\t\t\t} finally {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tif (loading) return <PagePlaceholder />;\r\n\r\n\treturn (\r\n\t\t<PageComponent\r\n\t\t\ttitulo={'Detalle Subasta'}\r\n\t\t\tIcon={GiReceiveMoney}\r\n\t\t\tbtnBackUrl={'/subastas'}\r\n\t\t\tbtnBackText={'Ir a Subastas'}\r\n\t\t\tbreadCrumb={[\r\n\t\t\t\t{ titulo: 'Subastas', link: '/subastas' },\r\n\t\t\t\t{ titulo: 'Detalle subasta' },\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t{subasta ? (\r\n\t\t\t\t<DetalleSubastaContent\r\n\t\t\t\t\tpujas={pujas}\r\n\t\t\t\t\tisLoading={loading}\r\n\t\t\t\t\tsubasta={subasta}\r\n\t\t\t\t\tsetSubasta={setSubasta}\r\n\t\t\t\t\tsetPujas={setPujas}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<ItemNotFound mensaje=\"Subasta no encontrada\" />\r\n\t\t\t)}\r\n\t\t</PageComponent>\r\n\t);\r\n};\r\n\r\nexport default DetalleSubasta;\r\n","import { FaUserCircle } from 'react-icons/fa';\r\nimport moment from 'moment-timezone';\r\nimport { validarFotoPerfil } from '../../../utils';\r\nimport { UserType } from '../types';\r\n\r\ninterface IModalUsuarioPerfil {\r\n\tpersona: UserType;\r\n}\r\n\r\nconst ModalUsuarioPerfil: React.FunctionComponent<IModalUsuarioPerfil> = props => {\r\n\tconst { persona } = props;\r\n\tif (!persona) return null;\r\n\r\n\tconst dataPersona = [\r\n\t\t{ label: 'ID', value: persona.iduser },\r\n\t\t{ label: 'Username', value: persona.username },\r\n\t\t{ label: 'Correo', value: persona.email_user },\r\n\t\t{\r\n\t\t\tlabel: 'Fecha Registro',\r\n\t\t\tvalue: moment(persona.date_created).format('DD/MM/YYYY'),\r\n\t\t},\r\n\t\t{ label: 'Rol', value: persona.rol.nombrerol },\r\n\t\t{ label: 'Teléfono', value: persona.telefono },\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"text-center\">\r\n\t\t\t<img\r\n\t\t\t\tsrc={validarFotoPerfil(persona)}\r\n\t\t\t\talt=\"\"\r\n\t\t\t\tclassName=\"user-img rounded-circle\"\r\n\t\t\t/>\r\n\r\n\t\t\t<h4>\r\n\t\t\t\t{persona.nombres} {persona.apellidos}\r\n\t\t\t</h4>\r\n\r\n\t\t\t<h5 className=\"mb-3\">\r\n\t\t\t\tDatos Personales <FaUserCircle />\r\n\t\t\t</h5>\r\n\t\t\t{dataPersona.map(({ label, value }) => (\r\n\t\t\t\t<p className=\"mb-0 text-left\" key={label}>\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<b>{label}:</b> {value}\r\n\t\t\t\t\t</>\r\n\t\t\t\t</p>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ModalUsuarioPerfil;\r\n"],"names":["mensaje","className","StyledPaqueteBid","styled","props","background","subasta","setLoader","useLoader","setModal","useModal","Promise","all","clienteAxios","idsubasta","productos","paqueteBids","paqueteActual","setSubasta","titulo","bgHeader","size","content","FormEditarSubasta","data","handleError","Tile","producto","src","PF","fotoSubasta","alt","paqueteBid","cantidadBids","bonus","ContainerDetails","hanPujado","DetailSubastaContent","text","costopuja","formatter","preciominimo","replace","preciosubasta","moment","date_created","format","fechaInicio","fechaFinalizacion","onClick","idpersona","url","request","user","ModalUsuarioPerfil","persona","heading","name","dataKey","center","pujas","map","p","console","log","formula","price","modalidadFormated","modalidad","nameFormated","nombres","apellidos","options","Dropdown","color","viewUser","userid","loading","isLoading","ChartJS","ArcElement","Tooltip","Legend","length","pujasAutomaticas","filter","pujasManuales","dataDoughnut","labels","datasets","backgroundColor","borderWidth","width","height","maintainAspectRatio","responsive","React","setHanPujado","Socket","useSocket","on","body","setPujas","puja","setTimeout","useParams","setLoading","idToast","toast","urlSubasta","urlPujas","reqSubasta","reqPujas","type","render","autoClose","fetchData","PagePlaceholder","PageComponent","Icon","GiReceiveMoney","btnBackUrl","btnBackText","breadCrumb","link","ItemNotFound","dataPersona","label","value","iduser","username","email_user","rol","nombrerol","telefono","validarFotoPerfil"],"sourceRoot":""}