"use strict";(self.webpackChunkcliente=self.webpackChunkcliente||[]).push([[185],{49677:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(43504),a=t(56355),s=t(80184),i=function(e){var r=e.breadCrumb,t=void 0===r?[]:r;return t.length?(0,s.jsxs)("ul",{className:"app-breadcrumb breadcrumb",children:[(0,s.jsx)("li",{className:"breadcrumb-item",children:(0,s.jsx)(n.rU,{to:"/home",className:"breadcrumb-item",children:(0,s.jsx)(a.xng,{})})}),t.map((function(e){var r=e.link,t=e.titulo;return(0,s.jsx)("li",{className:"breadcrumb-item",children:r?(0,s.jsx)(n.rU,{to:r,children:t}):t},t)}))]}):null},o=function(e){var r=e.btnBackUrl,t=e.btnBackText,i=e.titulo,o=e.descripcion,l=e.Icon;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{children:[r&&(0,s.jsxs)(n.rU,{to:"/admin"+r,className:"btn btn-dark shadow-0",children:[(0,s.jsx)(a.bUI,{size:10})," ",t]}),(0,s.jsx)(l,{className:"mx-2",color:"#1f439a",style:{verticalAlign:"middle"}}),i]}),o&&(0,s.jsx)("p",{className:"mt-2",children:o})]})},l=(t(72791),function(e){var r=e.btnBackUrl,t=e.btnBackText,n=e.titulo,a=e.Icon,l=e.descripcion,c=e.breadCrumb,d=e.showTitle,u=void 0===d||d;return(0,s.jsxs)("div",{className:"app-content",children:[u?(0,s.jsxs)("div",{className:"app-title",children:[(0,s.jsx)(o,{btnBackUrl:r,btnBackText:t,titulo:n,descripcion:l,Icon:a}),(0,s.jsx)(i,{breadCrumb:c})]}):null,e.children]})})},81173:function(e,r,t){var n=t(28175),a=t(35881),s=t(80184);r.Z=function(){return(0,s.jsx)(a.Z,{children:(0,s.jsxs)(n.ZP,{style:{width:"100%",height:"100%"},speed:1,backgroundColor:"#91d7e4",foregroundColor:"#f7f8fc",children:[(0,s.jsx)("rect",{x:"0",y:"0",width:"400%",height:"10"}),(0,s.jsx)("rect",{x:"0",y:"20",width:"20%",height:"10"}),(0,s.jsx)("rect",{x:"30",y:"20",width:"100%",height:"10"}),(0,s.jsx)("rect",{x:"340",y:"20",width:"60",height:"10"}),(0,s.jsx)("rect",{x:"0",y:"40",width:"400%",height:"10"}),(0,s.jsx)("rect",{x:"0",y:"60",width:"400%",height:"60"}),(0,s.jsx)("rect",{x:"0",y:"130",width:"20",height:"10"}),(0,s.jsx)("rect",{x:"30",y:"130",width:"100%",height:"10"}),(0,s.jsx)("rect",{x:"340",y:"130",width:"60",height:"10"}),(0,s.jsx)("rect",{x:"0",y:"150",width:"190",height:"80"}),(0,s.jsx)("rect",{x:"200",y:"150",width:"200",height:"80"}),(0,s.jsx)("rect",{x:"0",y:"240",width:"70",height:"10"}),(0,s.jsx)("rect",{x:"80",y:"240",width:"400%",height:"10"}),(0,s.jsx)("rect",{x:"0",y:"260",width:"70",height:"10"}),(0,s.jsx)("rect",{x:"80",y:"260",width:"400%",height:"10"})]})})}},66273:function(e,r,t){t.d(r,{K:function(){return m}});var n,a=t(70885),s=t(30168),i=t(72791),o=t(43504),l=t(63463),c=t(56355),d=t(80184),u=l.ZP.div(n||(n=(0,s.Z)(["\n\tposition: relative;\n\tdisplay: inline-block;\n\n\t.dropdown-menu {\n\t\tanimation-name: scaleZ;\n\t\tanimation-duration: 0.2s;\n\t\tanimation-iteration-count: normal;\n\n\t\tbutton,\n\t\ta {\n\t\t\tuser-select: none;\n\t\t\ttransition: all 0.15s ease !important;\n\t\t}\n\t}\n"]))),m=function(e){var r=e.color,t=e.to,n=e.onClick,a=e.children;return t?(0,d.jsx)(o.rU,{className:"dropdown-item btn-outline-".concat(r),to:t,children:a}):(0,d.jsx)("button",{className:"dropdown-item btn-outline-secondary",onClick:n,children:a})};r.Z=function(e){var r=e.children,t=(0,i.useState)(!1),n=(0,a.Z)(t,2),s=n[0],o=n[1],l=(0,i.useRef)(),m=function(){return o(!s)};function h(e){e.target!==l.current&&m()}return(0,i.useEffect)((function(){return s&&document.addEventListener("click",h),function(){document.removeEventListener("click",h)}})),(0,d.jsx)(u,{children:(0,d.jsxs)("div",{className:"dropdown dropleft",children:[(0,d.jsx)("button",{ref:l,className:"btn btn-secondary",onClick:m,type:"button",children:(0,d.jsx)(c.p4t,{style:{pointerEvents:"none"}})}),s&&(0,d.jsx)("div",{className:"dropdown-menu",children:r})]})})}},33023:function(e,r,t){t.d(r,{Z:function(){return Z}});var n,a=t(70885),s=t(72791),i=t(30168),o=t(63463),l=t(56355),c=t(73502),d=t(80184),u=(0,o.ZP)(c.f)(n||(n=(0,i.Z)(["\n\tmargin-right: 20px;\n\t.icon {\n\t\tposition: absolute;\n\t\tright: -25px;\n\t\tbottom: 5px;\n\t\tcolor: var(--app-table-icon-search-color);\n\t}\n"]))),m=function(e){var r=e.buttonHeader,t=e.setQ,n=e.q,a=e.canSearch,s=void 0===a||a;return(0,d.jsxs)("div",{className:"d-flex justify-content-md-between justify-content-center flex-column flex-md-row text-center",children:[(0,d.jsx)("div",{className:"mb-3",children:r}),s?(0,d.jsxs)(u,{className:"form-group",children:[(0,d.jsx)("span",{className:"icon",children:(0,d.jsx)(l.U41,{})}),(0,d.jsx)("input",{type:"text",value:n,placeholder:"Buscar...",onChange:function(e){return t(e.target.value)}}),(0,d.jsx)("div",{className:"line",style:{bottom:"auto"}})]}):null]})},h=t(92506),x=function(e){var r=e.center,t=e.name,n=e.value;return(0,d.jsx)("td",{className:"".concat(r||"ID"===t?"text-center":""),children:n})},p=function(e){var r=e.heading,t=e.data,n=e.loading,a=function(e){var t=e.mensaje;return(0,d.jsx)("tr",{children:(0,d.jsx)("td",{className:"text-center",colSpan:Object.keys(r).length,children:t})})};return(0,d.jsx)("tbody",{children:Object.keys(t).length?t.map((function(e,t){return(0,d.jsx)("tr",{children:r.map((function(r){return(0,d.jsx)(x,{center:r.center,name:r.name,dataKey:r.dataKey,value:(0,h.u9)(e,r.dataKey)},r.name)}))},t)})):n?(0,d.jsx)(a,{mensaje:"Cargando datos..."}):(0,d.jsx)(a,{mensaje:"No hay datos actualmente..."})})},f=function(e){var r=e.heading;return r.length?(0,d.jsx)("thead",{className:"bg-secondary",children:(0,d.jsx)("tr",{children:r.map((function(e){return(0,d.jsx)("th",{className:e.center||"ID"===e.name?"text-center":"",children:e.name},e.name)}))})}):null},b=function(e){var r=e.heading,t=e.data,n=e.loading;return(0,d.jsxs)("table",{className:"table table-hover table-bordered",children:[(0,d.jsx)(f,{heading:r}),(0,d.jsx)(p,{heading:r,data:t,loading:n})]})},v=t(96048),j=t.n(v),g=function(e){var r=e.itemsPerPage,t=e.items,n=e.setItemOffset,a=e.pageCount;return(0,d.jsx)(j(),{nextLabel:"Siguiente",onPageChange:function(e){var a=e.selected*r%t.length;n(a)},pageRangeDisplayed:1,pageCount:a,previousLabel:"Anterior",renderOnZeroPageCount:null,pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination pagination-sm mt-md-0 mt-3 justify-content-center justify-content-md-end",activeClassName:"active"})},y=t(35881),w=t(81173),Z=function(e){var r=e.data,t=e.buttonHeader,n=e.loading,i=e.bgHeader,o=e.showPagination,l=void 0===o||o,c=(0,s.useState)(""),u=(0,a.Z)(c,2),h=u[0],x=u[1],p=(0,s.useState)(r),f=(0,a.Z)(p,2),v=f[0],j=f[1],Z=(0,s.useState)(0),C=(0,a.Z)(Z,2),k=C[0],N=C[1],U=(0,s.useState)(0),I=(0,a.Z)(U,2),A=I[0],S=I[1];(0,s.useEffect)((function(){var e=A+10,t=function(e){var r=e[0]&&Object.keys(e[0]);return e.filter((function(e){return r.some((function(r){var t,n,a;return(null===(t=e[r])||void 0===t||null===(n=t.toString())||void 0===n||null===(a=n.toLowerCase())||void 0===a?void 0:a.indexOf(h.toLowerCase().trim()))>-1}))}))}(r);j(t.slice(A,e)),N(Math.ceil(t.length/10))}),[A,10,r,h]);var K=(0,s.useMemo)((function(){return(0,d.jsx)(m,{buttonHeader:t,setQ:x,q:h,canSearch:e.canSearch})}),[h,t]);return n&&!r.length?(0,d.jsx)(w.Z,{}):(0,d.jsxs)(y.Z,{bgHeader:i,children:[e.titulo,K,(0,d.jsxs)("div",{className:"table-responsive pb-2",children:[(0,d.jsx)(b,{heading:e.heading,data:v,loading:n}),l?(0,d.jsxs)("div",{className:"d-flex justify-content-md-between text-center justify-content-center flex-md-row flex-column",children:[(0,d.jsxs)("small",{children:["Total registros: ",Object.keys(r).length]}),(0,d.jsx)(g,{pageCount:k,setItemOffset:S,items:r,itemsPerPage:10})]}):null]})]})}},54984:function(e,r,t){t.d(r,{Z:function(){return R}});var n=t(1413),a=t(74165),s=t(15861),i=t(42982),o=t(70885),l=t(56355),c=t(15597),d=t(21213),u=[{name:"ID",dataKey:"iduser"},{name:"Foto Perfil",dataKey:"fotoperfilHtml",center:!0},{name:"Username",dataKey:"username"},{name:"Nombre",dataKey:"nombres"},{name:"Apellido",dataKey:"apellidos"},{name:"Correo",dataKey:"email_user"},{name:"Tel\xe9fono",dataKey:"telefono"},{name:"Rol",dataKey:"rol.nombrerol",center:!0},{name:"Acciones",dataKey:"options",center:!0}],m=[{name:"ID",dataKey:"iduser"},{name:"Foto Perfil",dataKey:"fotoperfilHtml",center:!0},{name:"Username",dataKey:"username"},{name:"Nombre",dataKey:"nombres"},{name:"Apellido",dataKey:"apellidos"},{name:"Correo",dataKey:"email_user"},{name:"Tel\xe9fono",dataKey:"telefono"},{name:"Bids",dataKey:"bids",center:!0},{name:"Rol",dataKey:"rol.nombrerol",center:!0},{name:"Acciones",dataKey:"options",center:!0}],h=t(33023),x=t(66273),p=t(80184),f=function(e){var r=e.element.iduser;return(0,p.jsxs)(x.Z,{children:[(0,p.jsxs)(x.K,{color:"primary",onClick:function(){return e.viewUser(r)},children:[(0,p.jsx)(l.dSq,{})," Ver Usuario"]}),(0,p.jsxs)(x.K,{color:"secondary",onClick:function(){return e.editarUsuario(r)},children:[(0,p.jsx)(l.tU3,{})," Editar Usuario"]}),(0,p.jsxs)(x.K,{color:"danger",onClick:function(){return e.eliminarUsuario(r)},children:[(0,p.jsx)(l.Xm5,{})," Eliminar Usuario"]}),(0,p.jsxs)(x.K,{color:"info",onClick:function(){return e.editarBids(r)},children:[(0,p.jsx)(l.vAr,{})," A\xf1adir Remover BIds"]})]})},b=function(e){return e.data.map((function(r){return r.options=(0,p.jsx)(f,{element:r,eliminarUsuario:e.eliminarUsuario,editarUsuario:e.editarUsuario,editarBids:e.editarBids,viewUser:e.viewUser}),r.fotoperfilHtml=(0,p.jsx)("img",{width:45,style:{borderRadius:"50%"},height:45,src:(0,c.Mt)(r),alt:"Imagen foto Perfil"}),r}))},v=t(72791),j=t(98048),g=function(e){var r=e.element,t=(0,v.useContext)(j.Z).usuario,n=r.iduser;if(n===c.xC||t.iduser===n)return null;return(0,p.jsxs)(x.Z,{children:[(0,p.jsxs)(x.K,{color:"primary",onClick:function(){return e.viewUser(n)},children:[(0,p.jsx)(l.dSq,{})," Ver Administrador"]}),(0,p.jsxs)(x.K,{color:"info",onClick:function(){return e.editarUsuario(n)},children:[(0,p.jsx)(l.tU3,{})," Editar Administrador"]}),(0,p.jsxs)(x.K,{color:"danger",onClick:function(){return e.eliminarUsuario(n)},children:[(0,p.jsx)(l.Xm5,{})," Eliminar administrador"]})]})},y=function(e){return e.data.map((function(r){return r.options=(0,p.jsx)(g,{element:r,eliminarUsuario:e.eliminarUsuario,editarUsuario:e.editarUsuario,viewUser:e.viewUser}),r.fotoperfilHtml=(0,p.jsx)("img",{width:45,style:{borderRadius:"50%"},height:45,src:(0,c.Mt)(r),alt:"Imagen Foto Perfil"}),r}))},w=t(91159),Z=[{label:"Nombre de Usuario",name:"username",required:!0,placeholder:"Ingresa el nombre de usuario",col:"col-lg-8"},{label:"Nombres",required:!0,name:"nombres",placeholder:"Ingrese el Nombre",col:"col-lg-6"},{label:"Apellidos",name:"apellidos",placeholder:"Ingresa el apellido",required:!0,col:"col-lg-6"},{label:"Correo",name:"email_user",placeholder:"Ingresa el correo",required:!0,col:"col-lg-6"},{label:"Tel\xe9fono",name:"telefono",placeholder:"Ingresa el telefono",col:"col-lg-6"},{label:"Contrase\xf1a",name:"password",type:"password",placeholder:"Ingresa la contrase\xf1a",required:!0,col:"col-lg-6"}],C=t(73054),k=t(9085),N=t(92506),U=t(11161),I=function(e){var r=(0,U.d)().setShowModal,t=e.usuario,i=e.editUser,o={nombres:t.nombres,apellidos:t.apellidos,email_user:t.email_user,username:t.username,telefono:t.telefono};function u(){return(u=(0,s.Z)((0,a.Z)().mark((function e(n){var s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="/administradores/putUsuario/".concat(t.iduser),e.next=4,d.Z.put(s,n);case 4:o=e.sent,k.Am.success(o.data.msg),i(o.data.user),r(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,c.S3)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var m=Z.slice(0,-1);return(0,p.jsx)(N.J9,{initialValues:o,onSubmit:function(e){return u.apply(this,arguments)},validate:w.Z,children:(0,p.jsxs)(N.l0,{children:[(0,p.jsxs)("h4",{className:"text-center mb-3",children:["Datos Personales ",(0,p.jsx)(l.m3W,{})]}),m.map((function(e){return(0,v.createElement)(C.II,(0,n.Z)((0,n.Z)({},e),{},{key:e.name}))})),(0,p.jsx)(C.zx,{text:"Actualizar Usuario"})]})})},A=t(12207),S=function(e){var r=e.usuario;function t(){return(t=(0,s.Z)((0,a.Z)().mark((function e(t,n){var s,i,o,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.setSubmitting,i=n.resetForm,e.prev=1,o="/administradores/changePasswordUser/".concat(r.iduser),e.next=5,d.Z.put(o,t);case 5:l=e.sent,k.Am.success(l.data.msg),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),(0,c.S3)(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))).apply(this,arguments)}return(0,p.jsx)(N.J9,{initialValues:{password:"",passwordConfirm:""},validate:A.Z,onSubmit:function(e,r){return t.apply(this,arguments)},children:(0,p.jsxs)(N.l0,{children:[(0,p.jsxs)("h4",{className:"text-center mb-3",children:["Cambiar Contrase\xf1a ",(0,p.jsx)(l.kUi,{})]}),(0,p.jsx)(C.II,{label:"Contrase\xf1a",type:"password",name:"password",placeholder:"Ingrese la nueva contrase\xf1a",required:!0}),(0,p.jsx)(C.II,{label:"Confirmar contrase\xf1a",type:"password",name:"passwordConfirm",placeholder:"Confirme la contrase\xf1a",required:!0}),(0,p.jsx)(C.zx,{text:"Cambiar Contrase\xf1a",Icon:l.kUi})]})})},K=function(e){var r=e.usuario,t=e.editUser;return(0,p.jsxs)("div",{className:"row w-100",children:[(0,p.jsx)("div",{className:"col-lg-6",children:(0,p.jsx)(I,{usuario:r,editUser:t})}),(0,p.jsx)("div",{className:"col-lg-6",children:(0,p.jsx)(S,{usuario:r})})]})},E=function(e){var r=e.idrol,t=e.addUser,i=(0,U.d)().setShowModal,o={nombres:"",apellidos:"",email_user:"",username:"",rolid:r,telefono:"",password:""};function l(){return(l=(0,s.Z)((0,a.Z)().mark((function e(r,n){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.post("/administradores",r);case 3:s=e.sent,k.Am.success(s.data.msg),n.resetForm(),t(s.data.user),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,c.S3)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var u=Z;return(0,p.jsx)(N.J9,{onSubmit:function(e,r){return l.apply(this,arguments)},validate:w.Z,initialValues:o,children:(0,p.jsxs)(N.l0,{children:[(0,p.jsx)("div",{className:"form-row",children:u.map((function(e){return(0,p.jsx)("div",{className:e.col,children:(0,p.jsx)(C.II,(0,n.Z)({},e))},e.name)}))}),(0,p.jsx)(C.zx,{text:"Crear Usuario"})]})})},B=function(e){var r=e.usuario,t=e.editBitsUser,i=(0,U.d)(),u=i.setBgHeaderModal,m=i.cerrarModal,h=(0,v.useState)("add"),x=(0,o.Z)(h,2),f=x[0],b=x[1],j=(0,v.useState)(r.bids),g=(0,o.Z)(j,2),y=g[0],w=g[1],Z={bids:"",iduser:r.iduser};function I(){return(I=(0,s.Z)((0,a.Z)().mark((function e(r){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==r.bids){e.next=3;break}return e.abrupt("return",k.Am.error("Tienes que escribir un n\xfamero"));case 3:return"administradores/add-remove-bids",e.next=6,d.Z.put("administradores/add-remove-bids",(0,n.Z)((0,n.Z)({},r),{},{statusAddRemoveBids:f}));case 6:s=e.sent,i=s.data,k.Am.success(i.msg),w(i.bids),t(i.bids,r.iduser),m(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,c.S3)(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return(0,p.jsx)(N.J9,{initialValues:Z,onSubmit:function(e){return I.apply(this,arguments)},children:(0,p.jsxs)(N.l0,{children:[(0,p.jsxs)("h4",{className:"text-center mb-3",children:["add"===f?"A\xf1adir":"Eliminar"," bids"," ",(0,p.jsx)(l.vAr,{})]}),(0,p.jsxs)("h6",{className:"text-left",children:["Este Usuario tiene ",y," bids"]}),(0,p.jsx)(C.II,{label:"Cantidad de Bids",type:"number",name:"bids",placeholder:"Ingrese la cantidad de bids"}),(0,p.jsx)("div",{className:"form-group",children:(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsxs)("button",{type:"button",className:"btn btn-info w-100",onClick:function(){u("primary"),b("add")},children:[(0,p.jsx)("h5",{className:"mt-2",children:"A\xf1adir"}),(0,p.jsx)(l.wEH,{})]}),(0,p.jsxs)("button",{type:"button",className:"btn btn-danger w-100",onClick:function(){u("danger"),b("remove")},children:[(0,p.jsx)("h5",{className:"mt-2",children:"Quitar"}),(0,p.jsx)(l.iFH,{})]})]})}),(0,p.jsx)(C.zx,{text:"add"===f?"A\xf1adir Bids":"Quitar Bids",Icon:l.vAr})]})})},H=t(13293),P=t(41297),L=t(60209),R=function(e){var r=e.idrol,t=e.urlRequest,x=e.titulo,f=r===c.F0,v=(0,H.U)().setLoader,j=(0,U.d)().setModal,g=(0,P.Z)([],{url:t}),w=(0,o.Z)(g,4),Z=w[0],C=w[1],k=w[3];function N(){return(N=(0,s.Z)((0,a.Z)().mark((function e(t){var n,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0,"Cargando usuario..."),n=f?"Editar Administrador":"Editar Usuario",s="/administradores/getUsuarioByRolAndId/".concat(t,"/").concat(r),e.next=6,(0,d.Z)(s);case 6:i=e.sent,o=function(e){return k(Z.map((function(r){return r.iduser===e.iduser?e:r})))},j({bgHeader:"secondary",content:(0,p.jsx)(K,{usuario:i.data,editUser:o}),size:"xl",titulo:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,c.S3)(e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))).apply(this,arguments)}function I(){return(I=(0,s.Z)((0,a.Z)().mark((function e(t){var s,i,o,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0,"Cargando usuario..."),s="/administradores/getUsuarioByRolAndId/".concat(t,"/").concat(r),e.next=5,(0,d.Z)(s);case 5:i=e.sent,o=i.data,l=function(e){k(Z.map((function(r){return r.iduser===o.iduser?(0,n.Z)((0,n.Z)({},r),{},{bids:e}):r})))},j({bgHeader:"secondary",content:(0,p.jsx)(B,{usuario:i.data,editBitsUser:l}),size:"md",titulo:"Editar Bids"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),(0,c.S3)(e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))).apply(this,arguments)}function A(){return(A=(0,s.Z)((0,a.Z)().mark((function e(t){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0,"Cargando usuario..."),n="/administradores/getUsuarioByRolAndId/".concat(t,"/").concat(r),e.next=5,(0,d.Z)(n);case 5:s=e.sent,s.data,j({bgHeader:"secondary",content:(0,p.jsx)(L.Z,{persona:s.data}),size:"md",titulo:"Ver Usuario"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,c.S3)(e.t0);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))).apply(this,arguments)}var S=f?y:b,R=f?u:m;return(0,p.jsx)(h.Z,{data:S({data:Z,eliminarUsuario:function(e){var r;r=f?"\xbfEst\xe1s seguro de eliminar este administrador?":"\xbfEst\xe1s seguro de eliminar este usuario?",(0,c.mJ)({title:r,text:"No ser\xe1s capz de recuperarlo!",urlDelete:"/administradores/".concat(e),callback:function(){k(Z.filter((function(r){return r.iduser!==e})))}})},editarBids:function(e){return I.apply(this,arguments)},editarUsuario:function(e){return N.apply(this,arguments)},viewUser:function(e){return A.apply(this,arguments)}}),heading:R,loading:C,titulo:x,buttonHeader:(0,p.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:function(){!function(e){j({titulo:e,bgHeader:"primary",content:(0,p.jsx)(E,{idrol:r,addUser:function(e){return k([e].concat((0,i.Z)(Z)))}}),size:"md"})}(f?"Crear Administrador":"Crear Usuario")},children:(0,p.jsx)(l.wEH,{})})})}},60209:function(e,r,t){var n=t(56355),a=t(73528),s=t.n(a),i=t(15597),o=t(80184);r.Z=function(e){var r=e.persona;if(!r)return null;var t=[{label:"ID",value:r.iduser},{label:"Username",value:r.username},{label:"Correo",value:r.email_user},{label:"Fecha Registro",value:s()(r.date_created).format("DD/MM/YYYY")},{label:"Rol",value:r.rol.nombrerol},{label:"Tel\xe9fono",value:r.telefono}];return(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("img",{src:(0,i.Mt)(r),alt:"",className:"user-img rounded-circle"}),(0,o.jsxs)("h4",{children:[r.nombres," ",r.apellidos]}),(0,o.jsxs)("h5",{className:"mb-3",children:["Datos Personales ",(0,o.jsx)(n.m3W,{})]}),t.map((function(e){var r=e.label,t=e.value;return(0,o.jsx)("p",{className:"mb-0 text-left",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("b",{children:[r,":"]})," ",t]})},r)}))]})}},12207:function(e,r){r.Z=function(e){var r={};return""===e.password.trim()?r.password="La contrase\xf1a es obligatoria":(e.password.trim()!==e.passwordConfirm.trim()&&(r.password="Las contrase\xf1as no son iguales"),e.password.trim().length<6&&(r.password="La contrase\xf1a debe ser de al menos 6 caracteres")),r}},91159:function(e,r){r.Z=function(e){var r,t={};return""===e.username.trim()&&(t.username="El Nombre de usuario es obligatorio"),""===e.nombres.trim()&&(t.nombres="El Nombre es obligatorio"),""===e.apellidos.trim()&&(t.apellidos="El Apellido es obligatorio"),""===e.email_user.trim()?t.email_user="El Correo es Obligatorio":/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email_user.trim())||(t.email_user="Email no v\xe1lido"),""===(null===(r=e.password)||void 0===r?void 0:r.trim())&&(t.password="La contrase\xf1a no puede ir vac\xeda"),t}},41297:function(e,r,t){var n=t(74165),a=t(15861),s=t(70885),i=t(72791),o=t(21213);r.Z=function(e,r){var t=r.url,l=r.onCompleteData,c=r.recieveDataFromCompleteData,d=(0,i.useState)(e),u=(0,s.Z)(d,2),m=u[0],h=u[1],x=(0,i.useState)(!0),p=(0,s.Z)(x,2),f=p[0],b=p[1];function v(){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Z)(t);case 3:r=e.sent,l&&(c&&h(l(r.data)?r.data:l(r.data)),l(r.data)),h(r.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}return(0,i.useEffect)((function(){v()}),[]),[m,f,v,h,b]}},10449:function(e,r,t){var n=t(72791),a=t(16871),s=t(60153);r.Z=function(e){var r,t=e.rolesPermisos,i=e.urlReturn,o=(0,a.s0)(),l=(0,s.E)().usuario;return(0,n.useEffect)((function(){var e;null!==(e=l.rol)&&void 0!==e&&e.idrol&&(t.includes(l.rol.idrol)||o("/admin"+i))}),[null===(r=l.rol)||void 0===r?void 0:r.idrol,o]),{usuario:l}}}}]);
//# sourceMappingURL=185.e3da3b6f.chunk.js.map